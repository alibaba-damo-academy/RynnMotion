<mujoco model="diffmobile">
  <compiler angle="radian"/>
  <option gravity="0 0 -1"/>

  <worldbody>

    <body name="robot_base" pos="0.5 0 0.22">
      <freejoint/>
      <geom name="chassis" type="cylinder" size="0.28 0.1" rgba="0.8 0.8 0.8 0.5" density="15"/>
      <site name="chassis_site" rgba="1 0 0 1" size="0.01" />
      <geom type="cylinder" size="0.05" fromto="0 0.25 0 0 0.29 0" rgba="0.0 0.0 0.0 1.0" mass=".1"/>
      <body pos="0 0.23 0.2">
        <camera name="front_cam" mode="fixed" euler="1.5708 0 3.1416" fovy="100"/>
      </body>
      <body pos="0 0.23 -0.15">
        <joint type="ball" pos="0 0 0"/>
        <geom type="sphere" size="0.05" mass="2"/>
      </body>
      <body pos="0 -0.23 -0.15">
        <joint type="ball" pos="0 0 0"/>
        <geom type="sphere" size="0.05" mass="2"/>
      </body>

      <body pos="0 0 0">
        <joint name="leftWheelOmni" type="hinge" pos ="-0.23 0 0" axis="0 0 -1" range="-6.14159 6.14159"/>
        <geom type="cylinder" size="0.05" fromto="-0.23 0 0.11 -0.23 0 -0.1" rgba="0.3 0.5 0.6 1.0" mass="2"/>
        <geom type="cylinder" size="0.01" fromto="-0.23 0.04 0.111 -0.23 0.04 0.11" rgba="0.8 0.0 0.0 1.0" density=".1"/>
        <body pos="0 0 -0.15">
          <joint name="leftWheel" type="hinge" pos ="0 0 0" axis="-1 0 0"/>
          <geom type="cylinder" size="0.05" fromto="-0.18 0 0 -0.28 0 0" rgba="0.8 0.8 0.8 1.0" mass="2"/>
          <geom type="cylinder" size="0.01" fromto="-0.28 0.04 0 -0.283 0.04 0" rgba="0.8 0.0 0.0 1.0" density=".1"/>
        </body>
      </body>

      <body pos="0 0 0">
        <joint name="rightWheelOmni" type="hinge" pos ="0.23 0 0" axis="0 0 -1"/>
        <geom type="cylinder" size="0.05" fromto="0.23 0 0.11 0.23 0 -0.1" rgba="0.3 0.5 0.6 1.0" mass="2"/>
        <geom type="cylinder" size="0.01" fromto="0.23 0.04 0.111 0.23 0.04 0.11" rgba="0.8 0.0 0.0 1.0" density=".1"/>
        <body pos="0 0 -0.15">
          <joint name="rightWheel" type="hinge" pos="0 0 0" axis="-1 0 0"/>
          <geom type="cylinder" size="0.05" fromto="0.18 0 0 0.28 0 0" rgba="0.8 0.8 0.8 1.0" mass="2"/>
          <geom type="cylinder" size="0.01" fromto="0.28 0.04 0 0.283 0.04 0" rgba="0.8 0.0 0.0 1.0" density=".1"/>
        </body>
      </body>
    </body>
  </worldbody>

  <actuator>
    <velocity name="left_wheel" joint="leftWheel" kv ="5"/>
    <velocity name="right_wheel" joint="rightWheel" kv ="5"/>
    <position name="leftWheelOmni" joint="leftWheelOmni" kp="8" kv="1" ctrlrange="-1.57 1.57"/>
    <position name="rightWheelOmni" joint="rightWheelOmni" kp="8" kv="1" ctrlrange="-1.57 1.57"/>
  </actuator>
  <sensor>
    <framepos name="chassisPos" objtype="site" objname="chassis_site"/>
    <framequat name="chassisQuat" objtype="site" objname="chassis_site"/>
    <framelinvel name="chassisLinVel" objtype="site" objname="chassis_site"/>
    <frameangvel name="chassisAngVel" objtype="site" objname="chassis_site"/>
    <gyro name="chassisGyro" site="chassis_site"/>
    <accelerometer name="chassisAcc" site="chassis_site"/>
  </sensor>
</mujoco>
